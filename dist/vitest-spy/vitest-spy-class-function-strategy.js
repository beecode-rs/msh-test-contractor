import deepEqual from 'fast-deep-equal';
import { VitestSpyFunctionStrategy } from '#src/vitest-spy/vitest-spy-function-strategy';
export class VitestSpyClassFunctionStrategy {
    _terms;
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    _mockClassParams;
    _name;
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    constructor(params) {
        const { terms, mockClassParams, name } = params;
        this._terms = terms;
        this._mockClassParams = mockClassParams;
        this._name = name;
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    mockImplementationFactory() {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        return (...mockParams) => {
            const termByConstructorParams = this._terms.filter((term) => deepEqual(term.constructorParams, this._mockClassParams));
            const vitestSpy = new VitestSpyFunctionStrategy({ name: this._name, terms: termByConstructorParams });
            return vitestSpy.mockImplementationFactory()(...mockParams);
        };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidml0ZXN0LXNweS1jbGFzcy1mdW5jdGlvbi1zdHJhdGVneS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92aXRlc3Qtc3B5L3ZpdGVzdC1zcHktY2xhc3MtZnVuY3Rpb24tc3RyYXRlZ3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxTQUFTLE1BQU0saUJBQWlCLENBQUE7QUFHdkMsT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0sOENBQThDLENBQUE7QUFHeEYsTUFBTSxPQUFPLDhCQUE4QjtJQUN2QixNQUFNLENBQWdCO0lBQ3pDLDhEQUE4RDtJQUMzQyxnQkFBZ0IsQ0FBTztJQUN2QixLQUFLLENBQVE7SUFFaEMsOERBQThEO0lBQzlELFlBQVksTUFBdUU7UUFDbEYsTUFBTSxFQUFFLEtBQUssRUFBRSxlQUFlLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFBO1FBQy9DLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFBO1FBQ25CLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxlQUFlLENBQUE7UUFDdkMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUE7SUFDbEIsQ0FBQztJQUVELDhEQUE4RDtJQUM5RCx5QkFBeUI7UUFDeEIsOERBQThEO1FBQzlELE9BQU8sQ0FBQyxHQUFHLFVBQWlCLEVBQU8sRUFBRTtZQUNwQyxNQUFNLHVCQUF1QixHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUE7WUFFdEgsTUFBTSxTQUFTLEdBQUcsSUFBSSx5QkFBeUIsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSx1QkFBdUIsRUFBRSxDQUFDLENBQUE7WUFFckcsT0FBTyxTQUFTLENBQUMseUJBQXlCLEVBQUUsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFBO1FBQzVELENBQUMsQ0FBQTtJQUNGLENBQUM7Q0FDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWVwRXF1YWwgZnJvbSAnZmFzdC1kZWVwLWVxdWFsJ1xuXG5pbXBvcnQgeyB0eXBlIENvbnRyYWN0VGVybSB9IGZyb20gJyNzcmMvdHlwZXMvaW5kZXgnXG5pbXBvcnQgeyBWaXRlc3RTcHlGdW5jdGlvblN0cmF0ZWd5IH0gZnJvbSAnI3NyYy92aXRlc3Qtc3B5L3ZpdGVzdC1zcHktZnVuY3Rpb24tc3RyYXRlZ3knXG5pbXBvcnQgeyB0eXBlIFZpdGVzdFNweVN0cmF0ZWd5IH0gZnJvbSAnI3NyYy92aXRlc3Qtc3B5L3ZpdGVzdC1zcHktc3RyYXRlZ3knXG5cbmV4cG9ydCBjbGFzcyBWaXRlc3RTcHlDbGFzc0Z1bmN0aW9uU3RyYXRlZ3kgaW1wbGVtZW50cyBWaXRlc3RTcHlTdHJhdGVneSB7XG5cdHByb3RlY3RlZCByZWFkb25seSBfdGVybXM6IENvbnRyYWN0VGVybVtdXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5cdHByb3RlY3RlZCByZWFkb25seSBfbW9ja0NsYXNzUGFyYW1zOiBhbnlbXVxuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgX25hbWU6IHN0cmluZ1xuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5cdGNvbnN0cnVjdG9yKHBhcmFtczogeyB0ZXJtczogQ29udHJhY3RUZXJtW107IG1vY2tDbGFzc1BhcmFtczogYW55W107IG5hbWU6IHN0cmluZyB9KSB7XG5cdFx0Y29uc3QgeyB0ZXJtcywgbW9ja0NsYXNzUGFyYW1zLCBuYW1lIH0gPSBwYXJhbXNcblx0XHR0aGlzLl90ZXJtcyA9IHRlcm1zXG5cdFx0dGhpcy5fbW9ja0NsYXNzUGFyYW1zID0gbW9ja0NsYXNzUGFyYW1zXG5cdFx0dGhpcy5fbmFtZSA9IG5hbWVcblx0fVxuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5cdG1vY2tJbXBsZW1lbnRhdGlvbkZhY3RvcnkoKTogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkge1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5cdFx0cmV0dXJuICguLi5tb2NrUGFyYW1zOiBhbnlbXSk6IGFueSA9PiB7XG5cdFx0XHRjb25zdCB0ZXJtQnlDb25zdHJ1Y3RvclBhcmFtcyA9IHRoaXMuX3Rlcm1zLmZpbHRlcigodGVybSkgPT4gZGVlcEVxdWFsKHRlcm0uY29uc3RydWN0b3JQYXJhbXMsIHRoaXMuX21vY2tDbGFzc1BhcmFtcykpXG5cblx0XHRcdGNvbnN0IHZpdGVzdFNweSA9IG5ldyBWaXRlc3RTcHlGdW5jdGlvblN0cmF0ZWd5KHsgbmFtZTogdGhpcy5fbmFtZSwgdGVybXM6IHRlcm1CeUNvbnN0cnVjdG9yUGFyYW1zIH0pXG5cblx0XHRcdHJldHVybiB2aXRlc3RTcHkubW9ja0ltcGxlbWVudGF0aW9uRmFjdG9yeSgpKC4uLm1vY2tQYXJhbXMpXG5cdFx0fVxuXHR9XG59XG4iXX0=