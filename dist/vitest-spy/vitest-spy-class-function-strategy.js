import deepEqual from 'fast-deep-equal/es6';
import { VitestSpyFunctionStrategy } from '#src/vitest-spy/vitest-spy-function-strategy';
export class VitestSpyClassFunctionStrategy {
    _terms;
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    _mockClassParams;
    _name;
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    constructor(params) {
        const { terms, mockClassParams, name } = params;
        this._terms = terms;
        this._mockClassParams = mockClassParams;
        this._name = name;
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    mockImplementationFactory() {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        return (...mockParams) => {
            const termByConstructorParams = this._terms.filter((term) => deepEqual(term.constructorParams, this._mockClassParams));
            const vitestSpy = new VitestSpyFunctionStrategy({ name: this._name, terms: termByConstructorParams });
            return vitestSpy.mockImplementationFactory()(...mockParams);
        };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidml0ZXN0LXNweS1jbGFzcy1mdW5jdGlvbi1zdHJhdGVneS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92aXRlc3Qtc3B5L3ZpdGVzdC1zcHktY2xhc3MtZnVuY3Rpb24tc3RyYXRlZ3kudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxTQUFTLE1BQU0scUJBQXFCLENBQUE7QUFFM0MsT0FBTyxFQUFFLHlCQUF5QixFQUFFLE1BQU0sOENBQThDLENBQUE7QUFJeEYsTUFBTSxPQUFPLDhCQUE4QjtJQUN2QixNQUFNLENBQWdCO0lBQ3pDLDhEQUE4RDtJQUMzQyxnQkFBZ0IsQ0FBTztJQUN2QixLQUFLLENBQVE7SUFFaEMsOERBQThEO0lBQzlELFlBQVksTUFBdUU7UUFDbEYsTUFBTSxFQUFFLEtBQUssRUFBRSxlQUFlLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFBO1FBQy9DLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFBO1FBQ25CLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxlQUFlLENBQUE7UUFDdkMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUE7SUFDbEIsQ0FBQztJQUVELDhEQUE4RDtJQUM5RCx5QkFBeUI7UUFDeEIsOERBQThEO1FBQzlELE9BQU8sQ0FBQyxHQUFHLFVBQWlCLEVBQU8sRUFBRTtZQUNwQyxNQUFNLHVCQUF1QixHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUE7WUFFdEgsTUFBTSxTQUFTLEdBQUcsSUFBSSx5QkFBeUIsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSx1QkFBdUIsRUFBRSxDQUFDLENBQUE7WUFFckcsT0FBTyxTQUFTLENBQUMseUJBQXlCLEVBQUUsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFBO1FBQzVELENBQUMsQ0FBQTtJQUNGLENBQUM7Q0FDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWVwRXF1YWwgZnJvbSAnZmFzdC1kZWVwLWVxdWFsL2VzNidcblxuaW1wb3J0IHsgVml0ZXN0U3B5RnVuY3Rpb25TdHJhdGVneSB9IGZyb20gJyNzcmMvdml0ZXN0LXNweS92aXRlc3Qtc3B5LWZ1bmN0aW9uLXN0cmF0ZWd5J1xuaW1wb3J0IHsgdHlwZSBWaXRlc3RTcHlTdHJhdGVneSB9IGZyb20gJyNzcmMvdml0ZXN0LXNweS92aXRlc3Qtc3B5LXN0cmF0ZWd5J1xuaW1wb3J0IHsgdHlwZSBDb250cmFjdFRlcm0gfSBmcm9tICcjc3JjL3R5cGVzL2luZGV4J1xuXG5leHBvcnQgY2xhc3MgVml0ZXN0U3B5Q2xhc3NGdW5jdGlvblN0cmF0ZWd5IGltcGxlbWVudHMgVml0ZXN0U3B5U3RyYXRlZ3kge1xuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgX3Rlcm1zOiBDb250cmFjdFRlcm1bXVxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgX21vY2tDbGFzc1BhcmFtczogYW55W11cblx0cHJvdGVjdGVkIHJlYWRvbmx5IF9uYW1lOiBzdHJpbmdcblxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuXHRjb25zdHJ1Y3RvcihwYXJhbXM6IHsgdGVybXM6IENvbnRyYWN0VGVybVtdOyBtb2NrQ2xhc3NQYXJhbXM6IGFueVtdOyBuYW1lOiBzdHJpbmcgfSkge1xuXHRcdGNvbnN0IHsgdGVybXMsIG1vY2tDbGFzc1BhcmFtcywgbmFtZSB9ID0gcGFyYW1zXG5cdFx0dGhpcy5fdGVybXMgPSB0ZXJtc1xuXHRcdHRoaXMuX21vY2tDbGFzc1BhcmFtcyA9IG1vY2tDbGFzc1BhcmFtc1xuXHRcdHRoaXMuX25hbWUgPSBuYW1lXG5cdH1cblxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuXHRtb2NrSW1wbGVtZW50YXRpb25GYWN0b3J5KCk6ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55IHtcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuXHRcdHJldHVybiAoLi4ubW9ja1BhcmFtczogYW55W10pOiBhbnkgPT4ge1xuXHRcdFx0Y29uc3QgdGVybUJ5Q29uc3RydWN0b3JQYXJhbXMgPSB0aGlzLl90ZXJtcy5maWx0ZXIoKHRlcm0pID0+IGRlZXBFcXVhbCh0ZXJtLmNvbnN0cnVjdG9yUGFyYW1zLCB0aGlzLl9tb2NrQ2xhc3NQYXJhbXMpKVxuXG5cdFx0XHRjb25zdCB2aXRlc3RTcHkgPSBuZXcgVml0ZXN0U3B5RnVuY3Rpb25TdHJhdGVneSh7IG5hbWU6IHRoaXMuX25hbWUsIHRlcm1zOiB0ZXJtQnlDb25zdHJ1Y3RvclBhcmFtcyB9KVxuXG5cdFx0XHRyZXR1cm4gdml0ZXN0U3B5Lm1vY2tJbXBsZW1lbnRhdGlvbkZhY3RvcnkoKSguLi5tb2NrUGFyYW1zKVxuXHRcdH1cblx0fVxufVxuIl19